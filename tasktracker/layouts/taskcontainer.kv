<TaskScrollContainer>:
    size_hint: 1, 1
    scroll_timeout: 20 # Use this to adjust how long it takes for the touch event to be sent to the children
    canvas:
        Color:
            rgba: root.scroll_bg_color
        Rectangle:
            size: root.width - 4, root.height
            pos: root.x + 1, root.y

<TaskList>:
    size_hint_x: .99
    size_hint_y: None
    cols: 1
    padding: 6, 3, 3, 0
    spacing: 3


<TaskScreen>:
    title: 'Task Screen'
    size_hint: None, None
    size: app.root.width/1.1, app.root.height/1.1
    auto_dismiss: False


<TaskCreationScreen>:
    id: task_screen
    project_selection_section: project_selection_section
    title: 'Add New Task'

    #Properties
    task_name: task_title
    notes: task_notes

    GridLayout:
        cols: 1
        padding: 3

        TaskTitle:
            id: task_title

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 40
            padding: 0, 3
            TaskListSelectionButton:
                text: 'Today'
                state: 'down'
                on_press: root.list_selection = 0
            TaskListSelectionButton:
                text: 'Tomorrow'
                on_press: root.list_selection = 1
            TaskListSelectionButton:
                text: 'Future'
                on_press: root.list_selection = 2

        ProjectSelectionSection:
            id: project_selection_section
            task_screen: task_screen

        TextInput:
            id: task_notes
            hint_text: '//Notes'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 50
            padding: 0, 3

            Button:
                text: 'Cancel'
                on_press: root.dismiss()
            Button:
                text: 'Create'
                on_press: root.create_task()

<TaskEditScreen>:
    id: task_screen
    project_selection_section: project_selection_section
    title: 'Edit Task'

    #Properties
    task_name: task_title
    notes: task_notes

    GridLayout:
        cols: 1
        padding: 3

        TaskTitle:
            id: task_title

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 40
            padding: 0, 3
            TaskListSelectionButton:
                id: today_button
                text: 'Today'
                on_press: root.list_selection = 0
            TaskListSelectionButton:
                id: tomorrow_button
                text: 'Tomorrow'
                on_press: root.list_selection = 1
            TaskListSelectionButton:
                id: future_button
                text: 'Future'
                on_press: root.list_selection = 2
            TaskListSelectionButton:
                id: archive_button
                text: 'Archive'
                on_press: root.list_selection = 3

        ProjectSelectionSection:
            id: project_selection_section
            task_screen: task_screen


        TextInput:
            id: task_notes
            hint_text: '//Notes'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 50
            padding: 0, 3

            Button:
                text: 'Cancel'
                on_press: root.dismiss()
            Button:
                text: 'Update'
                on_press: root.update_task()


<TaskListSelectionButton>:
    size_hint_x: .33
    height: 40
    group:'task_list_selection'

<TaskTitle@TextInput>:
    multiline: False
    size_hint_y: None
    height: 30
    hint_text: '//Task Title'
    # Do styling here

<ProjectSelectionSection>:
    # Layout information for the project selection section!
    orientation: 'horizontal'
    size_hint_y: None
    height: 31
    padding: 0, 2, 0, 2
    ProjectSelector:
        id: selector
        size_hint_x: .9
        size_hint_y: None
        height: 30
    Button:
        id: new_project
        text: '+'
        size_hint_x: .1
        size_hint_y: None
        height: 30
        on_press: root.open_project_screen()

